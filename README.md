# React Router

**React Router** — це одна з найпопулярніших бібліотек для організації маршрутизації у React-додатках. Вона надає такі можливості:

- **Створення набору маршрутів:**  
  За допомогою компонентів `<Routes>` та `<Route>` можна легко визначити, який компонент рендериться для конкретного URL.

- **Програмна навігація:**  
  За допомогою хука `useNavigate` можна виконувати навігацію програмно (наприклад, після успішного логіну або виконання певної дії).

- **Робота з параметрами:**  
  Хук `useParams` дозволяє отримувати динамічні частини URL, а `useSearchParams` — читати та змінювати query-параметри.

- **Захищені маршрути:**  
  React Router дозволяє реалізувати захищені маршрути, які перевіряють стан автентифікації користувача, перш ніж відобразити захищений контент.

---

# React Router Demo Project

Цей проект створено для демонстрації основних можливостей **React Router** у сучасних React-додатках. Він підійде як навчальний матеріал для уроків, де показано, як організувати маршрутизацію, працювати з параметрами URL, query-параметрами та реалізувати захищені маршрути. Проект використовує останню версію React, React Router, а також допоміжні бібліотеки: `react-bootstrap` (для UI), `classnames` та `prop-types`.

---

## Зміст

- [Огляд проекту](#огляд-проекту)
- [Особливості](#особливості)
- [Технології](#технології)
- [Структура проекту](#структура-проекту)
- [Детальний опис компонентів та роутів](#детальний-опис-компонентів-та-роутів)
  - [React Router: Що це і навіщо його використовувати?](#react-router-що-це-і-нащо-його-використовувати)
  - [Маршрутизація в проекті](#маршрутизація-в-проекті)
  - [Захищені маршрути](#захищені-маршрути)
- [Запуск проекту](#запуск-проекту)
- [Висновок](#висновок)
- [Джерела](#джерела)

---

## Огляд проекту

Проект є демонстраційним прикладом використання **React Router** для побудови SPA (Single Page Application) з кількома сторінками:

- **PostsList:** Головна сторінка, що демонструє програмну навігацію за допомогою `useNavigate`.
- **About:** Інформаційна сторінка.
- **Users:** Сторінка зі списком користувачів, отриманих із API JSONPlaceholder.
- **UserDetail:** Детальна інформація про користувача, де використовується динамічний параметр `:id`.
- **Posts:** Сторінка, що показує роботу з query-параметрами (наприклад, параметр `_limit` для обмеження кількості постів).
- **Login:** Сторінка логіну, яка демонструє симуляцію входу користувача.
- **ProtectedPage:** Захищена сторінка, доступ до якої можливий лише після перевірки наявності токена в `localStorage`.

---

## Особливості

- **Статична та динамічна маршрутизація:** Використання `Routes` та `Route` для створення різних маршрутів.
- **Програмна навігація:** Демонстрація використання хука `useNavigate` для переходу між сторінками.
- **Параметри URL:** Отримання динамічних параметрів за допомогою хука `useParams`.
- **Query-параметри:** Використання хука `useSearchParams` для роботи з параметрами запиту, наприклад, для керування кількістю постів.
- **Захищені маршрути:** Компонент `ProtectedRoute` перевіряє наявність токена в `localStorage` і або відображає захищений контент, або перенаправляє користувача на сторінку логіну.
- **UI за допомогою React Bootstrap:** Використання компонентів з `react-bootstrap` для побудови адаптивного та сучасного інтерфейсу.

---

## Технології

- **React:** Бібліотека для побудови інтерфейсів користувача.
- **React Router:** Бібліотека для маршрутизації в React-додатках.
- **Vite:** Сучасний інструмент для швидкої розробки, який забезпечує швидкий старт та гарячу перезагрузку модулів.
- **react-bootstrap:** Компоненти UI, що відповідають стилям Bootstrap.
- **classnames:** Утиліта для умовного застосування CSS класів.
- **prop-types:** Бібліотека для перевірки типів пропсів.

---

## Структура проекту

Проект організовано згідно з best practices, що дозволяє легко масштабувати додаток та розділяти логіку за наступною структурою:

```
my-react-router-demo/
├── index.html
├── package.json
├── vite.config.js
└── src/
├── main.jsx             // Точка входу додатку
├── router/
│   └── AppRouter.jsx    // Файл з налаштуванням всіх маршрутів
├── templates/
│   └── MainLayout.jsx   // Загальний шаблон сторінок (з навігаційною панеллю)
├── components/
│   ├── NavigationBar.jsx    // Компонент навігаційної панелі
│   └── ProtectedRoute.jsx   // Компонент для захищених маршрутів
├── pages/
│   ├── PostsList.jsx         // Головна сторінка
│   ├── About.jsx        // Інформаційна сторінка
│   ├── Users.jsx        // Сторінка зі списком користувачів
│   ├── UserDetail.jsx   // Детальна інформація про користувача
│   ├── Posts.jsx        // Сторінка з постами та роботою з query-параметрами
│   ├── Login.jsx        // Сторінка логіну
│   └── ProtectedPage.jsx// Захищена сторінка
└── utils/
└── api.js           // Опціональні утиліти для роботи з API
```

---

## Детальний опис компонентів та роутів

### React Router: Що це і навіщо його використовувати?

**React Router** — це стандартна бібліотека для організації маршрутизації в додатках на React. Вона дозволяє:

- **Створювати SPA:** Забезпечує навігацію між різними "сторінками" додатку без повного перезавантаження браузера.
- **Динамічні маршрути:** Легко працювати з параметрами URL (наприклад, `/users/:id`) для відображення контенту залежно від даних.
- **Програмну навігацію:** За допомогою хука `useNavigate` можна програмно змінювати URL, що корисно для виконання редіректів після певних дій (наприклад, після логіну).
- **Query-параметри:** Використання хука `useSearchParams` дозволяє зручно читати та оновлювати параметри запиту в URL.

### Маршрутизація в проекті

Всі маршрути визначено у файлі `src/router/AppRouter.jsx`. Тут використовується компонент `BrowserRouter` для роботи з історією браузера, а також `Routes` і `Route` для визначення окремих маршрутів. Наприклад:

- **Динамічний маршрут:**  
  ```jsx
  <Route path="/users/:id" element={<UserDetail />} />
  ```  
Тут `:id` — це параметр, який отримується у компоненті `UserDetail` за допомогою хука `useParams`.

- **Query-параметри:**  
  Сторінка `Posts.jsx` використовує `useSearchParams` для читання та оновлення параметра `_limit`, що дозволяє динамічно керувати кількістю відображуваних постів.

### Захищені маршрути

Компонент `ProtectedRoute` (розташований у `src/components/ProtectedRoute.jsx`) демонструє, як реалізувати захищену маршрутизацію. Основні принципи:

1. **Перевірка автентифікації:**  
   При монтуванні компоненту перевіряється наявність токена в `localStorage`. Якщо токен знайдено, користувач вважається автентифікованим.

2. **Індикатор завантаження:**  
   Поки перевірка не завершена, користувач бачить повідомлення "Завантаження...". Це дозволяє уникнути помилкового відображення захищеного контенту до завершення перевірки.

3. **Перенаправлення:**  
   Якщо токен відсутній, компонент виконує перенаправлення на сторінку логіну за допомогою компонента `<Navigate />`.

4. **Використання:**  
   Захищений маршрут використовується таким чином у `AppRouter.jsx`:
   ```jsx
   <Route
     path="/protected"
     element={
       <ProtectedRoute>
         <ProtectedPage />
       </ProtectedRoute>
     }
   />
   ```

Сторінка `Login.jsx` демонструє симуляцію логіну, під час якого в `localStorage` зберігається токен, після чого користувач перенаправляється до захищеної сторінки.

---

## Запуск проекту

1. **Клонування репозиторію або створення проекту за допомогою Vite:**
   ```bash
   npm create vite@latest my-react-router-demo -- --template react
   cd my-react-router-demo
   ```

2. **Встановлення залежностей:**
   ```bash
   npm install react-router-dom react-bootstrap bootstrap classnames prop-types
   ```

3. **Запуск проекту:**
   ```bash
   npm run dev
   ```
   Vite запустить сервер розробки, і проект буде доступний зазвичай за адресою [http://localhost:3000](http://localhost:3000).

---

## Висновок

Цей проект демонструє, як можна організувати маршрутизацію у сучасному React-додатку за допомогою **React Router**. Ми розглянули:
- **Основні концепції маршрутизації:** використання `Routes`, `Route`, `Link`, `useNavigate`, `useParams` та `useSearchParams`.
- **Роботу з динамічними та query-параметрами:** як отримувати та обробляти дані з URL.
- **Реалізацію захищених маршрутів:** перевірка наявності токена в `localStorage` та умовний рендеринг контенту.
- **Використання сучасних інструментів:** Vite для швидкого старту, React Bootstrap для побудови UI, а також best practices щодо структурування проекту.

Цей приклад може служити базою для побудови складніших додатків, де потрібна розширена логіка маршрутизації та аутентифікації.

---

## Джерела

- [React Router Documentation](https://reactrouter.com/)
- [React Bootstrap Documentation](https://react-bootstrap.github.io/)
- [Vite Documentation](https://vitejs.dev/)
- [JSONPlaceholder API](https://jsonplaceholder.typicode.com/)
- [React Documentation](https://reactjs.org/)